"use strict";(self.webpackChunktest_web=self.webpackChunktest_web||[]).push([[114],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=s(n),k=l,m=p["".concat(c,".").concat(k)]||p[k]||d[k]||r;return n?a.createElement(m,o(o({ref:t},u),{},{components:n})):a.createElement(m,o({ref:t},u))}));function m(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,o=new Array(r);o[0]=k;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[p]="string"==typeof e?e:l,o[1]=i;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},3575:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var a=n(7462),l=(n(7294),n(3905));const r={},o=void 0,i={unversionedId:"Note/Algolia",id:"Note/Algolia",title:"Algolia",description:"\u53c3\u8003\u7db2\u7ad9",source:"@site/docs/Note/Algolia.md",sourceDirName:"Note",slug:"/Note/Algolia",permalink:"/docusaurus/docs/Note/Algolia",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"Markdown",permalink:"/docusaurus/docs/Note/Markdown"}},c={},s=[{value:"Docsearch",id:"docsearch",level:2},{value:"Algolia",id:"algolia",level:2},{value:"\u8a3b\u518a",id:"\u8a3b\u518a",level:3},{value:"\u5efa\u7acbindex",id:"\u5efa\u7acbindex",level:3},{value:"API Key",id:"api-key",level:3},{value:"Docusaurus Config",id:"docusaurus-config",level:3},{value:"\u74b0\u5883\u8b8a\u6578\u8207\u722c\u87f2",id:"\u74b0\u5883\u8b8a\u6578\u8207\u722c\u87f2",level:2},{value:".env",id:"env",level:3},{value:"config.json",id:"configjson",level:3},{value:"Docker Desktop/ jq",id:"docker-desktop-jq",level:3},{value:"\u722c\u53d6\u8cc7\u6599\u65b0\u589e\u81f3Algolia",id:"\u722c\u53d6\u8cc7\u6599\u65b0\u589e\u81f3algolia",level:2}],u={toc:s},p="wrapper";function d(e){let{components:t,...n}=e;return(0,l.kt)(p,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://weiyun0912.github.io/Wei-Docusaurus/docs/Docusaurus/Algolia"},"\u53c3\u8003\u7db2\u7ad9")),(0,l.kt)("h2",{id:"docsearch"},"Docsearch"),(0,l.kt)("p",null,"\u5728Docusaurus\u5c08\u6848\u5e95\u4e0b\u5b89\u88dddocsearch"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-md"},"npm install @docsearch/react\n")),(0,l.kt)("h2",{id:"algolia"},"Algolia"),(0,l.kt)("h3",{id:"\u8a3b\u518a"},"\u8a3b\u518a"),(0,l.kt)("p",null,"\u5230",(0,l.kt)("a",{parentName:"p",href:"https://www.algolia.com/"},"Algolia\u5b98\u65b9\u7db2\u7ad9"),"\u8a3b\u518a\u4e26\u767b\u5165"),(0,l.kt)("h3",{id:"\u5efa\u7acbindex"},"\u5efa\u7acbindex"),(0,l.kt)("p",null,"\u4e4b\u5f8c\u6703\u7528\u5230index\u540d\u7a31\uff0c\u53ef\u4ee5\u5148\u8907\u88fd\u4e0b\u4f86"),(0,l.kt)("h3",{id:"api-key"},"API Key"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u9ede\u9078API Keys"),(0,l.kt)("li",{parentName:"ol"},"\u9ede\u9078All API Keys"),(0,l.kt)("li",{parentName:"ol"},"\u9ede\u9078New API Key"),(0,l.kt)("li",{parentName:"ol"},"\u5728\u6700\u4e0b\u65b9\u7684ACL\u984d\u5916\u65b0\u589e",(0,l.kt)("inlineCode",{parentName:"li"},"addObject")," ",(0,l.kt)("inlineCode",{parentName:"li"},"editSettings")," ",(0,l.kt)("inlineCode",{parentName:"li"},"deleteIndex")," \u4e09\u500b\u53c3\u6578"),(0,l.kt)("li",{parentName:"ol"},"\u9ede\u9078Create")),(0,l.kt)("h3",{id:"docusaurus-config"},"Docusaurus Config"),(0,l.kt)("p",null,"\u5728docusaurus.config.js\u7684themeConfig\u4e2d\u65b0\u589ealgolia\u7269\u4ef6"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"apiKey: \u525b\u525b\u65b0\u589e\u7684API Key"),(0,l.kt)("li",{parentName:"ul"},"indexName: \u525b\u525b\u5efa\u7acb\u7684index\u540d\u7a31"),(0,l.kt)("li",{parentName:"ul"},"apiId: \u5728API Key\u7684\u524d\u4e00\u9801\u53ef\u4ee5\u627e\u5230Application ID")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'...\nthemeConfig: ({\n    algolia: {\n        apiKey: "a54fa7cc6c9ecfbcd49ef66fd9970449",\n        indexName: "dev_docusaurus",\n        appId: "UF84S2O5HS",\n    },\n    ...\n});\n')),(0,l.kt)("p",null,"\u8a2d\u5b9a\u5b8c\u5f8c\u6703\u5728\u7db2\u9801\u53f3\u4e0a\u89d2\u770b\u5230\u641c\u5c0b\u6b04"),(0,l.kt)("h2",{id:"\u74b0\u5883\u8b8a\u6578\u8207\u722c\u87f2"},"\u74b0\u5883\u8b8a\u6578\u8207\u722c\u87f2"),(0,l.kt)("h3",{id:"env"},".env"),(0,l.kt)("p",null,"\u5728Docusaurus\u5c08\u6848\u7684\u6839\u76ee\u9304\u65b0\u589e.env:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"//.env\nAPPLICATION_ID=userApplicationId\nAPI_KEY=userAPIKey\n")),(0,l.kt)("h3",{id:"configjson"},"config.json"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "index_name": "Algolia index\u540d\u7a31",\n  "start_urls": ["Docusaurus\u7db2\u5740"],\n  "sitemap_urls": [\n    "Docusaurus\u7db2\u5740\u7684sitemap"\n  ],\n  "sitemap_alternate_links": true,\n  "stop_urls": ["/tests"],\n  "selectors": {\n    "lvl0": {\n      "selector": "(//ul[contains(@class,\'menu__list\')]//a[contains(@class, \'menu__link menu__link--sublist menu__link--active\')]/text() | //nav[contains(@class, \'navbar\')]//a[contains(@class, \'navbar__link--active\')]/text())[last()]",\n      "type": "xpath",\n      "global": true,\n      "default_value": "Documentation"\n    },\n    "lvl1": "header h1",\n    "lvl2": "article h2",\n    "lvl3": "article h3",\n    "lvl4": "article h4",\n    "lvl5": "article h5, article td:first-child",\n    "lvl6": "article h6",\n    "text": "article p, article li, article td:last-child"\n  },\n  "strip_chars": " .,;:#",\n  "custom_settings": {\n    "separatorsToIndex": "_",\n    "attributesForFaceting": ["language", "version", "type", "docusaurus_tag"],\n    "attributesToRetrieve": [\n      "hierarchy",\n      "content",\n      "anchor",\n      "url",\n      "url_without_anchor",\n      "type"\n    ]\n  },\n  "conversation_id": ["833762294"],\n  "nb_hits": 46250\n}\n')),(0,l.kt)("h3",{id:"docker-desktop-jq"},"Docker Desktop/ jq"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5b89\u88dd",(0,l.kt)("a",{parentName:"li",href:"https://docs.docker.com/desktop/install/windows-install/"},"Docker Desktop")),(0,l.kt)("li",{parentName:"ol"},"\u5b89\u88ddchocolately\uff0c\u4ee5",(0,l.kt)("strong",{parentName:"li"},"\u7cfb\u7d71\u7ba1\u7406\u54e1"),"\u958b\u555fCMD\uff0c\u8f38\u5165\u4ee5\u4e0b\u6307\u4ee4:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'@"%SystemRoot%\\System32\\WindowsPowerShell\\v1.0\\powershell.exe" -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command "iex ((New-Object System.Net.WebClient).DownloadString(\'https://chocolatey.org/install.ps1\'))" && SET "PATH=%PATH%;%ALLUSERSPROFILE%\\chocolatey\\bin"\n')),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"\u7528chocolatey\u5b89\u88ddjq:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"chocolatey install jq\n")),(0,l.kt)("h2",{id:"\u722c\u53d6\u8cc7\u6599\u65b0\u589e\u81f3algolia"},"\u722c\u53d6\u8cc7\u6599\u65b0\u589e\u81f3Algolia"),(0,l.kt)("p",null,"\u7528Git Bash\u958b\u555fDocusaurus\u5c08\u6848\uff0c\u4e26\u8f38\u5165:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'docker run -it --env-file=.env -e "CONFIG=$(cat ./config.json | jq -r tostring)" algolia/docsearch-scraper\n')),(0,l.kt)("p",null,"Windows\u4f5c\u696d\u7cfb\u7d71\u5982\u679c\u6709\u8df3\u51fawinpty\u63d0\u793a\uff0c\u5247\u6539\u70ba\u8f38\u5165:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'winpty docker run -it --env-file=.env -e "CONFIG=$(cat ./config.json | jq -r tostring)" algolia/docsearch-scraper\n')),(0,l.kt)("p",null,"\u57f7\u884c\u6210\u529f\u6642\uff0cdocsearch-scraper\u6703\u722c\u53d6\u7db2\u7ad9\u5167\u5bb9\u4e26\u65b0\u589e\u81f3Algolia\uff0c\u56de\u5230Algolia\u5f8c\u53f0\u7684Search\u9801\u9762\u53ef\u4ee5\u770b\u5230\u7db2\u7ad9\u88ab\u65b0\u589e\u6210\u529f\uff0c\u6b64\u6642\u5c31\u53ef\u4ee5\u4f7f\u7528Docusaurus\u7684\u641c\u5c0b\u6b04\u4e86!"))}d.isMDXComponent=!0}}]);